<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Will You?</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#0b1020;
  --bg2:#151a33;
  --accent:#ff4d8d;
  --accent2:#ff96b8;
  --valentine-red:#ff3b5c;
}

*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  overflow:hidden;
}

body{
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  font-family:"Poppins",sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
}

/* Container scaled to always fit screen */
.container{
  width:100%;
  max-width:700px;
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:10px;
}

h1{
  margin:0;
  font-size:36px;
  color:var(--accent);
}

.subtitle{
  font-size:14px;
  opacity:0.8;
  margin-bottom:5px;
}

/* Wheel */
.wheel-box{
  width:90vw;
  max-width:420px;
  position:relative;
}

svg{
  width:100%;
}

.pointer{
  position:absolute;
  top:0;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:15px solid transparent;
  border-right:15px solid transparent;
  border-bottom:25px solid var(--accent);
}

/* Button */
.spin{
  margin-top:10px;
  padding:12px 28px;
  border-radius:999px;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  border:none;
  color:white;
  font-weight:800;
  font-size:15px;
  cursor:pointer;
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.3);
}

.card{
  background:linear-gradient(180deg,#e2ffe8,#cfffe0);
  padding:20px;
  border-radius:12px;
  color:#083f2b;
  width:90%;
  max-width:400px;
}

.btn-row{
  margin-top:12px;
  display:flex;
  gap:10px;
  justify-content:center;
}

.btn{
  padding:8px 12px;
  border-radius:8px;
  border:none;
  font-weight:700;
  cursor:pointer;
}

.ghost{
  background:white;
}

.accept{
  background:var(--valentine-red);
  color:white;
}

/* Final screen */
#finalScreen{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  background:linear-gradient(180deg,#0b1020,#151a33);
}

#finalScreen h1{
  color:var(--valentine-red);
  font-size:48px;
  margin:0;
}

/* Falling hearts */
.hearts{
  position:fixed;
  inset:0;
  pointer-events:none;
}

.heart{
  position:absolute;
  opacity:0.25;
  animation:fall linear infinite;
}

@keyframes fall{
  from{transform:translateY(-10vh) rotate(0deg)}
  to{transform:translateY(110vh) rotate(360deg)}
}
</style>
</head>
<body>

<div class="hearts" id="hearts"></div>

<div class="container" id="mainUI">
  <h1>Will You?</h1>
  <div class="subtitle">Spin the wheel and see your surprise ğŸ’«</div>

  <div class="wheel-box">
    <div class="pointer"></div>
    <svg id="wheel" viewBox="0 0 400 400"></svg>
  </div>

  <button class="spin" id="spinBtn">SPIN IT! ğŸ¡</button>
</div>

<div class="modal" id="modal">
  <div class="card">
    <h3>Hulky â¤ï¸</h3>
    <p>Will you be my Valentine? â€” Louie</p>
    <div class="btn-row">
      <button class="btn ghost" id="tryAgainBtn">Try again</button>
      <button class="btn accept" id="alwaysBtn">Always ğŸ’˜</button>
    </div>
  </div>
</div>

<div id="finalScreen">
  <h1>Hulky â¤ï¸ I Love You</h1>
</div>

<script>
const slices=[
"Kiss ğŸ˜˜","Hug ğŸ¤—","Chocolate ğŸ«",
"Surprise ğŸ","Date Night ğŸŒƒ",
"Movie ğŸ¬","Be my Valentine ğŸ’˜"
];

const colors=["#ffdce6","#fff0f6","#ffdfe9","#fff7fb","#ffeef6","#fff3f8","#ffcfe0"];

const svg=document.getElementById("wheel");
const spinBtn=document.getElementById("spinBtn");
const modal=document.getElementById("modal");
const tryAgainBtn=document.getElementById("tryAgainBtn");
const alwaysBtn=document.getElementById("alwaysBtn");
const finalScreen=document.getElementById("finalScreen");

let rotation=0;
let spinning=false;

function drawWheel(){
  const cx=200,cy=200,r=190;
  const arc=360/slices.length;
  let start=-90;
  for(let i=0;i<slices.length;i++){
    const end=start+arc;
    const x1=cx+r*Math.cos(start*Math.PI/180);
    const y1=cy+r*Math.sin(start*Math.PI/180);
    const x2=cx+r*Math.cos(end*Math.PI/180);
    const y2=cy+r*Math.sin(end*Math.PI/180);
    const path=document.createElementNS("http://www.w3.org/2000/svg","path");
    const d=`M ${cx} ${cy} L ${x1} ${y1} A ${r} ${r} 0 0 1 ${x2} ${y2} Z`;
    path.setAttribute("d",d);
    path.setAttribute("fill",colors[i]);
    svg.appendChild(path);
    start=end;
  }
}
drawWheel();

function spin(){
  if(spinning) return;
  spinning=true;
  const targetIndex=slices.findIndex(s=>s.includes("Valentine"));
  const arc=360/slices.length;
  const finalRotation=6*360+(360-(targetIndex+0.5)*arc);
  rotation+=finalRotation;
  svg.style.transition="transform 1.4s cubic-bezier(.2,.9,.2,1)";
  svg.style.transform=`rotate(${rotation}deg)`;
  setTimeout(()=>{
    spinning=false;
    modal.style.display="flex";
  },1500);
}

spinBtn.onclick=spin;
tryAgainBtn.onclick=()=>modal.style.display="none";
alwaysBtn.onclick=()=>{
  modal.style.display="none";
  document.getElementById("mainUI").style.display="none";
  finalScreen.style.display="flex";
};

/* background hearts */
const heartContainer=document.getElementById("hearts");
["â¤ï¸","ğŸ’•","ğŸ’–"].forEach(()=>{});
for(let i=0;i<20;i++){
  const s=document.createElement("span");
  s.className="heart";
  s.innerText=["â¤ï¸","ğŸ’•","ğŸ’–"][Math.floor(Math.random()*3)];
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=4+Math.random()*6+"s";
  s.style.fontSize=10+Math.random()*20+"px";
  heartContainer.appendChild(s);
}
</script>

</body>
</html>
